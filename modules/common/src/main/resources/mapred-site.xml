<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!-- Put site-specific property overrides in this file. -->

<configuration>
  <property>
  <name>mapred.job.tracker.persist.jobstatus.hours</name>
  <value>168</value>
  <description>The number of hours job status information is persisted in DFS.
    The job status information will be available after it drops of the memory
    queue and between jobtracker restarts. With a zero value the job status
    information is not persisted at all in DFS.
  </description>
</property>


<property>
  <name>mapreduce.framework.name</name>
   <value>classic</value>
  <description>The runtime framework for executing MapReduce jobs.
    Can be one of local, classic or yarn.
  </description>
 </property>





<property><name>map.sort.class</name><value>org.apache.hadoop.util.QuickSort</value></property>

<property><name>io.seqfile.compression.type</name><value>RECORD</value></property>

<property><name>hive.exec.reducers.min</name><value>4</value></property>
<property><name>hive.exec.reducers.max</name><value>4096</value></property>
<property><name>hive.exec.reducers.bytes.per.reducer</name><value>805306368</value></property>
<property><name>hive.exec.compress.intermediate</name><value>true</value></property>
<property><name>hive.exec.compress.output</name><value>true</value></property>

  <property>
    <name>mapred.job.tracker</name>
    <value>jobs-dev-hnn:8021</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.hosts</name>
    <value>/etc/hadoop/conf/mapred.hosts</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.hosts.exclude</name>
    <value>/etc/hadoop/conf/mapred.hosts.exclude</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.local.dir</name>
    <value>/data1/hadoop/mapred/local,/data2/hadoop/mapred/local,/data3/hadoop/mapred/local,/data4/hadoop/mapred/local,/data5/hadoop/mapred/local,/data6/hadoop/mapred/local,/data7/hadoop/mapred/local</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.output.compression.codec</name>
    <value>com.hadoop.compression.lzo.LzoCodec</value>
  </property>
  <property>
    <name>mapred.output.compression.type</name>
    <value>BLOCK</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.output.compress</name> 
    <value>false</value>
  </property>
  <property>
    <name>mapred.reduce.slowstart.completed.maps</name> 
    <value>0.85</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.map.output.compression.codec</name>
    <value>com.hadoop.compression.lzo.LzoCodec</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.compress.map.output</name> 
    <value>false</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.child.java.opts</name>
    <value>-Xms2048m -Xmx2048m</value>
  </property>
  <property>
    <name>mapreduce.jobtracker.tasktracker.maxblacklists</name>
    <value>4</value>
    <final>false</final>
  </property>
  <property>
    <name>mapreduce.job.maxtaskfailures.per.tracker</name>
    <value>8</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.job.reuse.jvm.num.tasks</name>
    <value>1</value>
    <description>How many tasks to run per jvm. If set to -1, there is no limit. </description>
  </property>
  <property>
    <name>hadoop.job.history.user.location</name>
    <value>none</value>
  </property>
  <property>
    <name>mapred.jobtracker.completeuserjobs.maximum</name>
    <value>15</value>
  </property>
  <property>
    <name>mapred.job.tracker.handler.count</name>
    <value>64</value>
  </property>
  <property>
    <name>mapred.tasktracker.map.tasks.maximum</name>
    <value>5</value>
  </property>
  <property>
    <name>mapred.tasktracker.reduce.tasks.maximum</name>
    <value>5</value>
  </property>
  <property>
    <name>tasktracker.http.threads</name>
    <value>80</value>
  </property>

  <property>
    <name>mapred.userlog.retain.hours</name>
    <value>168</value>
  </property>
  <property>
    <name>mapred.userlog.limit.kb</name>
    <value>10485760</value>
  </property>

<!--
<property>
  <name>keep.task.files.pattern</name>
  <value>.*</value>
</property> 
-->

  <property>
    <name>mapred.reduce.parallel.copies</name>
    <value>10</value>
  </property>
  <property>
    <name>mapred.map.tasks.speculative.execution</name>
    <value>false</value>
    <final>false</final>
  </property>
  <property>
    <name>mapred.reduce.tasks.speculative.execution</name>
    <value>false</value>
    <final>false</final>
  </property>
  <property>
    <name>mapreduce.tasktracker.cache.local.numberdirectories</name>
    <value>200</value>
    <final>false</final>
  </property>
  <property>
    <name>io.sort.factor</name>
    <value>64</value>
  </property>
  <property>
    <name>io.sort.mb</name>
    <value>256</value>
  </property>
  <property>
    <name>jobtracker.thrift.address</name>
    <value>0.0.0.0:9290</value>
  </property>
  <property>
    <name>mapred.jobtracker.plugins</name>
    <value>org.apache.hadoop.thriftfs.ThriftJobTrackerPlugin</value>
    <description>Comma-separated list of jobtracker plug-ins to be activated.</description>
  </property>
  <property>
    <name>mapred.jobtracker.taskScheduler</name>
    <value>org.apache.hadoop.mapred.FairScheduler</value>
  </property>
  <property>
    <name>mapred.fairscheduler.allocation.file</name>
    <value>/etc/hadoop/conf/fair-scheduler.xml</value>
  </property>
  <property>
    <name>mapred.fairscheduler.preemption</name>
    <value>true</value>
  </property>
  <property>
    <name>mapred.fairscheduler.poolnameproperty</name>
    <value>user.name</value>
  </property>
  <property>
    <name>mapred.fairscheduler.sizebasedweight</name>
    <value>false</value>
  </property>
  <property>
    <name>mapred.fairscheduler.weightadjuster</name>
    <value>org.apache.hadoop.mapred.NewJobWeightBooster</value>
  </property>
  <property>
    <name>mapred.newjobweightbooster.factor</name>
    <value>3</value>
  </property>
  <property>
    <name>mapred.newjobweightbooster.duration</name>
    <value>300000</value>
  </property>
</configuration>
